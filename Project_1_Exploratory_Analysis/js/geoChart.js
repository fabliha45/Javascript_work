var CountriesTreeCoverLoss1 = [];
var countriesData = [];
var countries2020Data = [];
  $.ajax({
        url: 'treeCoverLossByRegion.csv',
        dataType: 'text',
      }).done(successFunction);

  function successFunction(data) 
  { 
      var allRows = data.split(/\r?\n|\r/);
      CountriesTreeCoverLoss1.push(allRows);
      
    for (let index = 0; index < CountriesTreeCoverLoss1[0].length; index++) {
              
                  CountriesTreeCoverLoss1[0][index] = CountriesTreeCoverLoss1[0][index].split(',');
        
    }
    for (let index = 3774; index <= 3965; index++) {
              countries2020Data.push(CountriesTreeCoverLoss1[0][index]);
    }
  }
 
  google.charts.load('current', {
        'packages':['geochart'],
        // Note: you will need to get a mapsApiKey for your project.
        // See: https://developers.google.com/chart/interactive/docs/basic_load_libs#load-settings
        'mapsApiKey': 'AIzaSyBV-mwYEnllg6P32a6gCeRhuoFh56WImlM'
      });
      google.charts.setOnLoadCallback(drawRegionsMap);

  function drawRegionsMap() {
    
    var data = google.visualization.arrayToDataTable([
      ['Country', 'Tree Cover Loss 2020'],
      ['AF', parseInt(countries2020Data[0][2])],
      ['AO', parseInt(countries2020Data[1][2])],
      ['AI', parseInt(countries2020Data[2][2])],
      ['AI', parseInt(countries2020Data[3][2])],
      ['AL', parseInt(countries2020Data[4][2])],
      ['AD', parseInt(countries2020Data[5][2])],
      ['AR', parseInt(countries2020Data[6][2])],
      ['AM', parseInt(countries2020Data[7][2])],
      ['AG', parseInt(countries2020Data[8][2])],
      ['AU', parseInt(countries2020Data[9][2])],
      ['AT', parseInt(countries2020Data[10][2])],
      ['AZ', parseInt(countries2020Data[11][2])],
      ['BI', parseInt(countries2020Data[12][2])],
      ['BE', parseInt(countries2020Data[13][2])],
      ['BJ', parseInt(countries2020Data[14][2])],
      ['BQ', parseInt(countries2020Data[15][2])],
      ['BG', parseInt(countries2020Data[16][2])],
      ['BG', parseInt(countries2020Data[17][2])],
      ['BF', parseInt(countries2020Data[18][2])],
      ['BA', parseInt(countries2020Data[19][2])],
      ['BY', parseInt(countries2020Data[20][2])],
      ['BZ', parseInt(countries2020Data[21][2])],
      ['BO', parseInt(countries2020Data[22][2])],
      ['BR', parseInt(countries2020Data[23][2])],
      ['BB', parseInt(countries2020Data[24][2])],
      ['BN', parseInt(countries2020Data[25][2])],
      ['BT', parseInt(countries2020Data[26][2])],
      ['BW', parseInt(countries2020Data[27][2])],
      ['CF', parseInt(countries2020Data[28][2])],
      ['CA', parseInt(countries2020Data[29][2])],
      ['CH', parseInt(countries2020Data[30][2])],
      ['CL', parseInt(countries2020Data[31][2])],
      ['CN', parseInt(countries2020Data[32][2])],
      ['CI', parseInt(countries2020Data[33][2])],
      ['CM', parseInt(countries2020Data[34][2])],
      ['CD', parseInt(countries2020Data[35][2])],
      ['CG', parseInt(countries2020Data[36][2])],
      ['CO', parseInt(countries2020Data[37][2])],
      ['KM', parseInt(countries2020Data[38][2])],
      ['CV', parseInt(countries2020Data[39][2])],
      ['CR', parseInt(countries2020Data[40][2])],
      ['HR', parseInt(countries2020Data[41][2])],
      ['CW', parseInt(countries2020Data[42][2])],
      ['KY', parseInt(countries2020Data[43][2])],
      ['CY', parseInt(countries2020Data[44][2])],
      ['CZ', parseInt(countries2020Data[45][2])],
      ['DE', parseInt(countries2020Data[46][2])],
      ['DM', parseInt(countries2020Data[47][2])],
      ['DK', parseInt(countries2020Data[48][2])],
      ['DO', parseInt(countries2020Data[49][2])],
      ['DZ', parseInt(countries2020Data[50][2])],
      ['EC', parseInt(countries2020Data[51][2])],
      ['EG', parseInt(countries2020Data[52][2])],
      ['ES', parseInt(countries2020Data[53][2])],
      ['EE', parseInt(countries2020Data[54][2])],
      ['ET', parseInt(countries2020Data[55][2])],
      ['FI', parseInt(countries2020Data[56][2])],
      ['FJ', parseInt(countries2020Data[57][2])],
      ['FR', parseInt(countries2020Data[58][2])],
      ['GA', parseInt(countries2020Data[59][2])],
      ['GM', parseInt(countries2020Data[60][2])],
      ['GE', parseInt(countries2020Data[61][2])],
      ['GG', parseInt(countries2020Data[62][2])],
      ['GH', parseInt(countries2020Data[63][2])],
      ['GN', parseInt(countries2020Data[64][2])],
      ['GP', parseInt(countries2020Data[65][2])],
      ['GM', parseInt(countries2020Data[66][2])],
      ['GW', parseInt(countries2020Data[67][2])],
      ['GQ', parseInt(countries2020Data[68][2])],
      ['GR', parseInt(countries2020Data[69][2])],
      ['GD', parseInt(countries2020Data[70][2])],
      ['GT', parseInt(countries2020Data[71][2])],
      ['GF', parseInt(countries2020Data[72][2])],
      ['GY', parseInt(countries2020Data[73][2])],
      ['HK', parseInt(countries2020Data[74][2])],
      ['HN', parseInt(countries2020Data[75][2])],
      ['HR', parseInt(countries2020Data[76][2])],
      ['HT', parseInt(countries2020Data[77][2])],
      ['HU', parseInt(countries2020Data[78][2])],
      ['ID', parseInt(countries2020Data[79][2])],
      ['IM', parseInt(countries2020Data[80][2])],
      ['IN', parseInt(countries2020Data[81][2])],
      ['IE', parseInt(countries2020Data[82][2])],
      ['IR', parseInt(countries2020Data[83][2])],
      ['IL', parseInt(countries2020Data[84][2])],
      ['IT', parseInt(countries2020Data[85][2])],
      ['JM', parseInt(countries2020Data[86][2])],
      ['JE', parseInt(countries2020Data[87][2])],
      ['JO', parseInt(countries2020Data[88][2])],
      ['JP', parseInt(countries2020Data[89][2])],
      ['KZ', parseInt(countries2020Data[90][2])],
      ['KE', parseInt(countries2020Data[91][2])],
      ['KG', parseInt(countries2020Data[92][2])],
      ['KH', parseInt(countries2020Data[93][2])],
      ['KN', parseInt(countries2020Data[94][2])],
      ['KR', parseInt(countries2020Data[95][2])],
      ['LA', parseInt(countries2020Data[96][2])],
      ['LB', parseInt(countries2020Data[97][2])],
      ['LR', parseInt(countries2020Data[98][2])],
      ['LY', parseInt(countries2020Data[99][2])],
      ['LC', parseInt(countries2020Data[100][2])],
      ['LI', parseInt(countries2020Data[101][2])],
      ['LK', parseInt(countries2020Data[102][2])],
      ['LS', parseInt(countries2020Data[103][2])],
      ['LT', parseInt(countries2020Data[104][2])],
      ['LU', parseInt(countries2020Data[105][2])],
      ['LV', parseInt(countries2020Data[106][2])],
      ['MO', parseInt(countries2020Data[107][2])],
      ['MF', parseInt(countries2020Data[108][2])],
      ['MA', parseInt(countries2020Data[109][2])],
      ['MD', parseInt(countries2020Data[110][2])],
      ['MG', parseInt(countries2020Data[111][2])],
      ['MX', parseInt(countries2020Data[112][2])],
      ['MK', parseInt(countries2020Data[113][2])],
      ['ML', parseInt(countries2020Data[114][2])],
      ['MM', parseInt(countries2020Data[115][2])],
      ['ME', parseInt(countries2020Data[116][2])],
      ['MN', parseInt(countries2020Data[117][2])],
      ['MZ', parseInt(countries2020Data[118][2])],
      ['MS', parseInt(countries2020Data[119][2])],
      ['MQ', parseInt(countries2020Data[120][2])],
      ['MW', parseInt(countries2020Data[121][2])],
      ['MY', parseInt(countries2020Data[122][2])],
      ['YT', parseInt(countries2020Data[123][2])],
      ['NA', parseInt(countries2020Data[124][2])],
      ['NC', parseInt(countries2020Data[125][2])],
      ['NG', parseInt(countries2020Data[126][2])],
      ['NI', parseInt(countries2020Data[127][2])],
      ['NL', parseInt(countries2020Data[128][2])],
      ['NO', parseInt(countries2020Data[129][2])],
      ['NP', parseInt(countries2020Data[130][2])],
      ['NZ', parseInt(countries2020Data[131][2])],
      ['PK', parseInt(countries2020Data[132][2])],
      ['PA', parseInt(countries2020Data[133][2])],
      ['PE', parseInt(countries2020Data[134][2])],
      ['PH', parseInt(countries2020Data[135][2])],
      ['PW', parseInt(countries2020Data[136][2])],
      ['PG', parseInt(countries2020Data[137][2])],
      ['PL', parseInt(countries2020Data[138][2])],
      ['PR', parseInt(countries2020Data[139][2])],
      ['KP', parseInt(countries2020Data[140][2])],
      ['PT', parseInt(countries2020Data[141][2])],
      ['PY', parseInt(countries2020Data[142][2])],
      ['PS', parseInt(countries2020Data[143][2])],
      ['RO', parseInt(countries2020Data[144][2])],
      ['RU', parseInt(countries2020Data[145][2])],
      ['RW', parseInt(countries2020Data[146][2])],
      ['SD', parseInt(countries2020Data[147][2])],
      ['SN', parseInt(countries2020Data[148][2])],
      ['SG', parseInt(countries2020Data[149][2])],
      ['SB', parseInt(countries2020Data[150][2])],
      ['SL', parseInt(countries2020Data[151][2])],
      ['SV', parseInt(countries2020Data[152][2])],
      ['SO', parseInt(countries2020Data[153][2])],
      ['PM', parseInt(countries2020Data[154][2])],
      ['RS', parseInt(countries2020Data[155][2])],
      ['SS', parseInt(countries2020Data[156][2])],
      ['SR', parseInt(countries2020Data[157][2])],
      ['SK', parseInt(countries2020Data[158][2])],
      ['SI', parseInt(countries2020Data[159][2])],
      ['SB', parseInt(countries2020Data[160][2])],
      ['SZ', parseInt(countries2020Data[161][2])],
      ['SY', parseInt(countries2020Data[162][2])],
      ['TC', parseInt(countries2020Data[163][2])],
      ['TD', parseInt(countries2020Data[164][2])],
      ['TG', parseInt(countries2020Data[165][2])],
      ['TH', parseInt(countries2020Data[166][2])],
      ['TJ', parseInt(countries2020Data[167][2])],
      ['TL', parseInt(countries2020Data[168][2])],
      ['TT', parseInt(countries2020Data[169][2])],
      ['TN', parseInt(countries2020Data[170][2])],
      ['TR', parseInt(countries2020Data[171][2])],
      ['TW', parseInt(countries2020Data[172][2])],
      ['TZ', parseInt(countries2020Data[173][2])],
      ['UG', parseInt(countries2020Data[174][2])],
      ['UA', parseInt(countries2020Data[175][2])],
      ['UY', parseInt(countries2020Data[176][2])],
      ['US', parseInt(countries2020Data[177][2])],
      ['UZ', parseInt(countries2020Data[178][2])],
      ['VC', parseInt(countries2020Data[179][2])],
      ['VE', parseInt(countries2020Data[180][2])],
      ['VG', parseInt(countries2020Data[181][2])],
      ['VI', parseInt(countries2020Data[182][2])],
      ['VN', parseInt(countries2020Data[183][2])],
      ['VU', parseInt(countries2020Data[184][2])],
      ['XAD', parseInt(countries2020Data[185][2])],
      ['XCA', parseInt(countries2020Data[186][2])],
      ['XKO', parseInt(countries2020Data[187][2])],
      ['XNC', parseInt(countries2020Data[188][2])],
      ['ZA', parseInt(countries2020Data[189][2])],
      ['ZM', parseInt(countries2020Data[190][2])],
      ['ZW', parseInt(countries2020Data[191][2])],

    ]);
    var formatter = new google.visualization.NumberFormat(
        { suffix:' ha', pattern:"#"});
        formatter.format(data,1); 
    var options = {
      width:900,
      colorAxis: {colors:['#fe6598']},
      legend: { position: 'top'},
    };

    var chart = new google.visualization.GeoChart(document.getElementById('geoChart'));

    chart.draw(data, options);
  }